#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# AI Guardianå¼ºåˆ¶éªŒè¯
echo "ğŸ›¡ï¸ AI Guardian pre-commitéªŒè¯..."
if ! bun run ai:guardian:validate "pre-commit verification" 2>/dev/null; then
    echo "ğŸš¨ AI GuardianéªŒè¯å¤±è´¥ï¼Œæäº¤è¢«é˜»æ­¢"
    echo "ğŸ’¡ è¯·ç¡®ä¿åœ¨æ­£ç¡®åˆ†æ”¯ä¸”éµå®ˆæ‰€æœ‰çº¦æŸ"
    exit 1
fi

echo "âœ… AI GuardianéªŒè¯é€šè¿‡"

# æ ‡å‡†çš„pre-commitæ£€æŸ¥
bun run lint:fix
bun run check-types