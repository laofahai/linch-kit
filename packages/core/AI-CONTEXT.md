# @linch-kit/core AI ä¸Šä¸‹æ–‡æ–‡æ¡£

## ğŸ¤– AI-First è®¾è®¡åŸåˆ™

è¿™æ˜¯ Linch Kit çš„æ ¸å¿ƒåŒ…ï¼Œæ•´åˆäº† CLIã€é…ç½®ç®¡ç†å’ŒåŸºç¡€å·¥å…·ï¼Œä¸“é—¨ä¸º AI ç†è§£å’Œæ‰©å±•è€Œè®¾è®¡ã€‚

## ğŸ“‹ AI å…ƒæ•°æ®

```json
{
  "ai-purpose": "Linch Kit æ ¸å¿ƒåŒ…ï¼Œæä¾› CLIã€é…ç½®ç®¡ç†å’ŒåŸºç¡€å·¥å…·",
  "ai-architecture": "æ¨¡å—åŒ–æ ¸å¿ƒæ¶æ„ï¼ŒåŒ…å« CLIã€é…ç½®ã€å·¥å…·ä¸‰å¤§æ¨¡å—",
  "ai-key-concepts": [
    "ç»Ÿä¸€çš„ CLI ç³»ç»Ÿ",
    "åŠ¨æ€é…ç½®ç®¡ç†",
    "æ’ä»¶åŒ–æ¶æ„",
    "é¡¹ç›®è„šæ‰‹æ¶",
    "å¼€å‘å·¥å…·ä»£ç†"
  ],
  "ai-integration-points": [
    "CLI å‘½ä»¤æ‰©å±•",
    "é…ç½® Schema æ³¨å†Œ",
    "æ’ä»¶ç³»ç»Ÿ",
    "å·¥å…·å‡½æ•°åº“"
  ]
}
```

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
@linch-kit/core/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts              # AI: ç»Ÿä¸€å¯¼å‡ºå…¥å£
â”‚   â”œâ”€â”€ cli.ts                # AI: CLI å¯æ‰§è¡Œå…¥å£
â”‚   â”œâ”€â”€ cli/                  # AI: CLI ç³»ç»Ÿæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ index.ts          # AI: CLI æ ¸å¿ƒå¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ core/             # AI: CLI æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ command-registry.ts  # AI: å‘½ä»¤æ³¨å†Œè¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ plugin-loader.ts     # AI: æ’ä»¶åŠ è½½å™¨
â”‚   â”‚   â”‚   â””â”€â”€ config-manager.ts    # AI: é…ç½®ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ commands/         # AI: å†…ç½®å‘½ä»¤
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts      # AI: å‘½ä»¤å¯¼å‡º
â”‚   â”‚   â”‚   â”œâ”€â”€ init.ts       # AI: é¡¹ç›®åˆå§‹åŒ–
â”‚   â”‚   â”‚   â”œâ”€â”€ config.ts     # AI: é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ plugin.ts     # AI: æ’ä»¶ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ dev.ts        # AI: å¼€å‘å·¥å…·
â”‚   â”‚   â”œâ”€â”€ types/            # AI: CLI ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ utils/            # AI: CLI å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ config/               # AI: é…ç½®ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ index.ts          # AI: é…ç½®å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ loader.ts         # AI: é…ç½®åŠ è½½å™¨
â”‚   â”‚   â”œâ”€â”€ providers/        # AI: é…ç½®æä¾›è€…
â”‚   â”‚   â”œâ”€â”€ schemas/          # AI: é…ç½® Schema
â”‚   â”‚   â””â”€â”€ types.ts          # AI: é…ç½®ç±»å‹
â”‚   â”œâ”€â”€ utils/                # AI: æ ¸å¿ƒå·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ index.ts          # AI: å·¥å…·å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ logger.ts         # AI: æ—¥å¿—ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ fs.ts             # AI: æ–‡ä»¶ç³»ç»Ÿå·¥å…·
â”‚   â”‚   â”œâ”€â”€ process.ts        # AI: è¿›ç¨‹ç®¡ç†
â”‚   â”‚   â””â”€â”€ validation.ts     # AI: éªŒè¯å·¥å…·
â”‚   â””â”€â”€ types/                # AI: å…±äº«ç±»å‹å®šä¹‰
â”‚       â”œâ”€â”€ index.ts          # AI: ç±»å‹å¯¼å‡º
â”‚       â”œâ”€â”€ cli.ts            # AI: CLI ç±»å‹
â”‚       â”œâ”€â”€ config.ts         # AI: é…ç½®ç±»å‹
â”‚       â””â”€â”€ common.ts         # AI: é€šç”¨ç±»å‹
â””â”€â”€ AI-CONTEXT.md             # AI: æœ¬æ–‡æ¡£
```

## ğŸ¯ æ¨¡å—èŒè´£

### CLI æ¨¡å— (`src/cli/`)
- **å‘½ä»¤æ³¨å†Œå’Œæ‰§è¡Œ**: ç»Ÿä¸€çš„å‘½ä»¤ç³»ç»Ÿ
- **æ’ä»¶å‘ç°å’ŒåŠ è½½**: è‡ªåŠ¨å‘ç°å’ŒåŠ è½½æ’ä»¶
- **äº¤äº’å¼ç•Œé¢**: ç”¨æˆ·å‹å¥½çš„å‘½ä»¤è¡Œç•Œé¢
- **å¼€å‘å·¥å…·ä»£ç†**: ä»£ç†åˆ°ç°æœ‰å·¥å…· (npm, Next.js, Turborepo)

### é…ç½®æ¨¡å— (`src/config/`)
- **å¤šæ ¼å¼æ”¯æŒ**: JS/TS/JSON/YAML é…ç½®æ–‡ä»¶
- **Schema éªŒè¯**: ä½¿ç”¨ Zod è¿›è¡Œé…ç½®éªŒè¯
- **ç¯å¢ƒå˜é‡é›†æˆ**: è‡ªåŠ¨åŠ è½½å’Œåˆå¹¶ç¯å¢ƒå˜é‡
- **åŠ¨æ€æ³¨å†Œ**: æ”¯æŒæ’ä»¶åŠ¨æ€æ³¨å†Œé…ç½® Schema

### å·¥å…·æ¨¡å— (`src/utils/`)
- **æ—¥å¿—ç³»ç»Ÿ**: ç»“æ„åŒ–æ—¥å¿—è®°å½•
- **æ–‡ä»¶ç³»ç»Ÿ**: æ–‡ä»¶æ“ä½œå·¥å…·
- **è¿›ç¨‹ç®¡ç†**: å­è¿›ç¨‹ç®¡ç†å’Œä»£ç†
- **éªŒè¯å·¥å…·**: é€šç”¨éªŒè¯å‡½æ•°

## ğŸ”Œ æ‰©å±•æœºåˆ¶

### 1. CLI å‘½ä»¤æ‰©å±•
```typescript
// æ’ä»¶å¯ä»¥æ³¨å†Œæ–°å‘½ä»¤
import { CommandRegistry } from '@linch-kit/core/cli'

const registry = CommandRegistry.getInstance()
registry.registerCommand('my-command', {
  description: 'My custom command',
  handler: async (context) => {
    // å‘½ä»¤é€»è¾‘
  }
})
```

### 2. é…ç½® Schema æ‰©å±•
```typescript
// æ’ä»¶å¯ä»¥æ³¨å†Œé…ç½® Schema
import { ConfigManager } from '@linch-kit/core/config'

const configManager = ConfigManager.getInstance()
configManager.registerSchema({
  name: 'my-plugin',
  schema: z.object({
    enabled: z.boolean().default(true)
  })
})
```

### 3. å·¥å…·å‡½æ•°æ‰©å±•
```typescript
// ä½¿ç”¨æ ¸å¿ƒå·¥å…·å‡½æ•°
import { logger, validateSchema } from '@linch-kit/core/utils'

logger.info('Plugin loaded', { plugin: 'my-plugin' })
const isValid = validateSchema(data, schema)
```

## ğŸ›ï¸ ä½¿ç”¨æ–¹å¼

### ä½œä¸º CLI å·¥å…·
```bash
# å…¨å±€å®‰è£…
npm install -g @linch-kit/core

# ä½¿ç”¨ CLI
linch init my-app
linch dev
linch build
```

### ä½œä¸ºåº“ä½¿ç”¨
```typescript
// å¯¼å…¥æ•´ä¸ªæ ¸å¿ƒåŒ…
import { CLI, Config, Utils } from '@linch-kit/core'

// æˆ–è€…å¯¼å…¥ç‰¹å®šæ¨¡å—
import { CommandRegistry } from '@linch-kit/core/cli'
import { ConfigManager } from '@linch-kit/core/config'
import { logger } from '@linch-kit/core/utils'
```

### åœ¨æ’ä»¶ä¸­ä½¿ç”¨
```typescript
// æ’ä»¶å¼€å‘
import type { CommandPlugin } from '@linch-kit/core'

const myPlugin: CommandPlugin = {
  name: 'my-plugin',
  version: '1.0.0',
  async register(registry) {
    // æ³¨å†Œå‘½ä»¤
  }
}
```

## ğŸ“Š æ€§èƒ½è€ƒè™‘

### 1. æ¨¡å—åŒ–åŠ è½½
- **æŒ‰éœ€å¯¼å…¥**: åªåŠ è½½ä½¿ç”¨çš„æ¨¡å—
- **æ‡’åŠ è½½**: CLI å‘½ä»¤æŒ‰éœ€åŠ è½½
- **ä»£ç åˆ†å‰²**: ä¸åŒæ¨¡å—ç‹¬ç«‹æ‰“åŒ…

### 2. ç¼“å­˜ç­–ç•¥
- **é…ç½®ç¼“å­˜**: é¿å…é‡å¤è§£æé…ç½®æ–‡ä»¶
- **æ’ä»¶ç¼“å­˜**: ç¼“å­˜æ’ä»¶å‘ç°ç»“æœ
- **å‘½ä»¤ç¼“å­˜**: ç¼“å­˜å‘½ä»¤æ³¨å†Œä¿¡æ¯

### 3. å¯åŠ¨ä¼˜åŒ–
- **å¿«é€Ÿå¯åŠ¨**: CLI å¯åŠ¨æ—¶é—´ < 100ms
- **å¹¶è¡ŒåŠ è½½**: æ’ä»¶å¹¶è¡Œå‘ç°å’ŒåŠ è½½
- **å¢é‡æ›´æ–°**: ä»…æ›´æ–°å˜æ›´çš„éƒ¨åˆ†

## ğŸ”® æœªæ¥æ‰©å±•

### çŸ­æœŸ (1-2 ä¸ªæœˆ)
- [ ] å®Œå–„å·¥å…·å‡½æ•°åº“
- [ ] æ·»åŠ æ›´å¤šå†…ç½®å‘½ä»¤
- [ ] ä¼˜åŒ–æ€§èƒ½å’Œå¯åŠ¨æ—¶é—´

### ä¸­æœŸ (3-6 ä¸ªæœˆ)
- [ ] AI è¾…åŠ©å‘½ä»¤æ¨è
- [ ] æ™ºèƒ½é…ç½®éªŒè¯
- [ ] å¯è§†åŒ–é…ç½®ç¼–è¾‘å™¨

### é•¿æœŸ (6+ ä¸ªæœˆ)
- [ ] äº‘ç«¯é…ç½®åŒæ­¥
- [ ] AI é©±åŠ¨çš„é¡¹ç›®åˆ†æ
- [ ] è‡ªåŠ¨åŒ–æœ€ä½³å®è·µå»ºè®®

## ğŸ›¡ï¸ è´¨é‡ä¿è¯

### 1. ç±»å‹å®‰å…¨
- **å®Œæ•´ç±»å‹å®šä¹‰**: æ‰€æœ‰ API éƒ½æœ‰ç±»å‹å®šä¹‰
- **è¿è¡Œæ—¶éªŒè¯**: ä½¿ç”¨ Zod è¿›è¡Œè¿è¡Œæ—¶éªŒè¯
- **AI æ ‡æ³¨**: æ‰€æœ‰ä»£ç éƒ½æœ‰ AI æ ‡æ³¨

### 2. æµ‹è¯•è¦†ç›–
- **å•å…ƒæµ‹è¯•**: æ ¸å¿ƒåŠŸèƒ½å•å…ƒæµ‹è¯•
- **é›†æˆæµ‹è¯•**: æ¨¡å—é—´é›†æˆæµ‹è¯•
- **E2E æµ‹è¯•**: ç«¯åˆ°ç«¯åŠŸèƒ½æµ‹è¯•

### 3. æ–‡æ¡£å®Œæ•´
- **API æ–‡æ¡£**: å®Œæ•´çš„ API æ–‡æ¡£
- **ä½¿ç”¨ç¤ºä¾‹**: ä¸°å¯Œçš„ä½¿ç”¨ç¤ºä¾‹
- **AI ä¸Šä¸‹æ–‡**: ä¾¿äº AI ç†è§£çš„æ–‡æ¡£
