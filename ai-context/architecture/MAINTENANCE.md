# Architecture ç›®å½•ç»´æŠ¤æŒ‡å—

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-06-23  
**ç»´æŠ¤è´£ä»»**: æ¶æ„å›¢é˜Ÿ  
**ç”¨é€”**: AI Agent æ¶æ„æ–‡æ¡£ç»´æŠ¤æŒ‡å¯¼  

---

## ğŸ“‹ ç›®å½•ç»“æ„è¯´æ˜

### æ ¸å¿ƒæ–‡æ¡£ (å¿…é¡»ç»´æŠ¤)
```
ai-context/architecture/
â”œâ”€â”€ README.md                    # æ¶æ„æ–‡æ¡£å…¥å£å’Œå¯¼èˆª
â”œâ”€â”€ system-architecture.md       # ç³»ç»Ÿæ•´ä½“æ¶æ„è®¾è®¡
â”œâ”€â”€ dependency-graph.md          # åŒ…ä¾èµ–å…³ç³»å›¾
â”œâ”€â”€ development-constraints.md   # å¼€å‘çº¦æŸå’ŒæŠ€æœ¯é™åˆ¶
â”œâ”€â”€ development-priorities.md    # å¼€å‘ä¼˜å…ˆçº§æŒ‡å—
â”œâ”€â”€ packages-overview.md         # åŒ…æ¶æ„æ€»è§ˆ
â”œâ”€â”€ packages/                    # å„åŒ…è¯¦ç»†è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ core.md                  # æ ¸å¿ƒåŒ…è®¾è®¡
â”‚   â”œâ”€â”€ schema.md                # SchemaåŒ…è®¾è®¡
â”‚   â”œâ”€â”€ auth.md                  # è®¤è¯åŒ…è®¾è®¡
â”‚   â”œâ”€â”€ crud.md                  # CRUDåŒ…è®¾è®¡
â”‚   â”œâ”€â”€ trpc.md                  # tRPCåŒ…è®¾è®¡
â”‚   â”œâ”€â”€ ui.md                    # UIåŒ…è®¾è®¡
â”‚   â”œâ”€â”€ ai-integration.md        # AIé›†æˆæ’ä»¶è®¾è®¡
â”‚   â”œâ”€â”€ workflow.md              # å·¥ä½œæµæ’ä»¶è®¾è®¡
â”‚   â””â”€â”€ starter-app.md           # ç¤ºä¾‹åº”ç”¨è®¾è®¡
â””â”€â”€ MAINTENANCE.md               # æœ¬ç»´æŠ¤æŒ‡å—
```

### å·²åˆå¹¶æ–‡æ¡£ (å†…å®¹å·²æ•´åˆ)
- `feature-inventory.md` â†’ å†…å®¹åˆå¹¶åˆ° `packages-overview.md`
- `tech-stack.md` â†’ å†…å®¹åˆå¹¶åˆ° `system-architecture.md`

---

## ğŸ”„ æ–‡æ¡£åŒæ­¥æ›´æ–°è¦æ±‚

### å½“ä¿®æ”¹åŒ…è®¾è®¡æ—¶ (packages/*.md)

#### 1. æ›´æ–°ä¾èµ–å…³ç³»
å¦‚æœä¿®æ”¹äº†åŒ…çš„ä¾èµ–å…³ç³»ï¼Œå¿…é¡»åŒæ­¥æ›´æ–°ï¼š
- `dependency-graph.md` - æ›´æ–°ä¾èµ–å…³ç³»å›¾
- `packages-overview.md` - æ›´æ–°åŒ…çŠ¶æ€è¡¨æ ¼
- `development-priorities.md` - è°ƒæ•´å¼€å‘ä¼˜å…ˆçº§

#### 2. æ›´æ–°æ¶æ„çŠ¶æ€
å¦‚æœä¿®æ”¹äº†åŒ…çš„æ¶æ„è®¾è®¡ï¼Œå¿…é¡»åŒæ­¥æ›´æ–°ï¼š
- `packages-overview.md` - æ›´æ–°è®¾è®¡çŠ¶æ€
- `system-architecture.md` - æ›´æ–°ç³»ç»Ÿæ¶æ„å›¾
- `README.md` - æ›´æ–°å¯¼èˆªé“¾æ¥

#### 3. æ›´æ–°å¼€å‘çº¦æŸ
å¦‚æœä¿®æ”¹äº†æŠ€æœ¯å®ç°æ–¹æ¡ˆï¼Œå¿…é¡»æ£€æŸ¥ï¼š
- `development-constraints.md` - ç¡®è®¤æŠ€æœ¯çº¦æŸä»ç„¶é€‚ç”¨
- `development-priorities.md` - è°ƒæ•´æ€§èƒ½è¦æ±‚å’ŒéªŒæ”¶æ ‡å‡†

### å½“æ·»åŠ æ–°åŒ…æ—¶

#### 1. åˆ›å»ºåŒ…è®¾è®¡æ–‡æ¡£
```bash
# åœ¨ packages/ ç›®å½•ä¸‹åˆ›å»ºæ–°åŒ…æ–‡æ¡£
touch ai-context/architecture/packages/new-package.md
```

#### 2. å¿…é¡»æ›´æ–°çš„æ–‡æ¡£
- `packages-overview.md` - æ·»åŠ æ–°åŒ…åˆ°çŠ¶æ€è¡¨æ ¼å’Œæ¶æ„å›¾
- `dependency-graph.md` - æ›´æ–°ä¾èµ–å…³ç³»å›¾
- `development-priorities.md` - æ·»åŠ å¼€å‘ä¼˜å…ˆçº§
- `README.md` - æ·»åŠ å¯¼èˆªé“¾æ¥

#### 3. å¯èƒ½éœ€è¦æ›´æ–°çš„æ–‡æ¡£
- `system-architecture.md` - å¦‚æœå½±å“ç³»ç»Ÿæ¶æ„
- `development-constraints.md` - å¦‚æœå¼•å…¥æ–°çš„æŠ€æœ¯çº¦æŸ

### å½“åˆ é™¤åŒ…æ—¶

#### 1. ç§»é™¤åŒ…è®¾è®¡æ–‡æ¡£
```bash
# ç§»é™¤åŒ…æ–‡æ¡£
rm ai-context/architecture/packages/old-package.md
```

#### 2. å¿…é¡»æ›´æ–°çš„æ–‡æ¡£
- `packages-overview.md` - ä»çŠ¶æ€è¡¨æ ¼ä¸­ç§»é™¤
- `dependency-graph.md` - æ›´æ–°ä¾èµ–å…³ç³»å›¾
- `development-priorities.md` - ç§»é™¤ç›¸å…³ä¼˜å…ˆçº§
- `README.md` - ç§»é™¤å¯¼èˆªé“¾æ¥

---

## ğŸ“ æ–‡æ¡£ç¼–å†™è§„èŒƒ

### åŒ…è®¾è®¡æ–‡æ¡£æ ‡å‡†ç»“æ„
æ¯ä¸ªåŒ…è®¾è®¡æ–‡æ¡£ (`packages/*.md`) å¿…é¡»åŒ…å«ä»¥ä¸‹ç« èŠ‚ï¼š

```markdown
# @linch-kit/package-name åŒ…è¯¦ç»†è§„åˆ’

**åŒ…ç‰ˆæœ¬**: v1.0.0  
**åˆ›å»ºæ—¥æœŸ**: YYYY-MM-DD  
**å¼€å‘ä¼˜å…ˆçº§**: P0/P1/P2/P3  
**ä¾èµ–**: åˆ—å‡ºä¾èµ–çš„åŒ…  

## ğŸ“‹ åŒ…æ¦‚è¿°
### åŠŸèƒ½å®šä½
### èŒè´£è¾¹ç•Œ
### æŠ€æœ¯ç‰¹è‰²

## ğŸ—ï¸ æ¶æ„è®¾è®¡
### ç›®å½•ç»“æ„
### æ ¸å¿ƒç±»è®¾è®¡

## ğŸ”§ æŠ€æœ¯å®ç°
### å…·ä½“å®ç°æ–¹æ¡ˆ

## ğŸ“Š æ€§èƒ½çº¦æŸ
### æ„å»ºæ€§èƒ½
### è¿è¡Œæ—¶æ€§èƒ½

## ğŸ§ª æµ‹è¯•è¦æ±‚
### æµ‹è¯•è¦†ç›–ç‡
### æµ‹è¯•ç¤ºä¾‹

## ğŸš€ å¼€å‘æŒ‡å—
### å¼€å‘ä¼˜å…ˆçº§
### éªŒæ”¶æ ‡å‡†
```

### ä¼˜å…ˆçº§æ ‡å‡†
- **P0**: æœ€é«˜ä¼˜å…ˆçº§ï¼Œæ ¸å¿ƒåŸºç¡€è®¾æ–½
- **P1**: é«˜ä¼˜å…ˆçº§ï¼Œæ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½
- **P2**: ä¸­ä¼˜å…ˆçº§ï¼Œæ‰©å±•åŠŸèƒ½
- **P3**: ä½ä¼˜å…ˆçº§ï¼Œä¼˜åŒ–å’Œå®Œå–„

### ä¾èµ–å…³ç³»åŸåˆ™
- ä¸¥æ ¼éµå¾ªå•å‘ä¾èµ–ï¼šcore â†’ schema â†’ auth â†’ crud â†’ trpc â†’ ui
- ç¦æ­¢å¾ªç¯ä¾èµ–
- æ’ä»¶åŒ…å¯ä»¥ä¾èµ–å¤šä¸ªæ ¸å¿ƒåŒ…

---

## ğŸ” æ–‡æ¡£ä¸€è‡´æ€§æ£€æŸ¥

### å®šæœŸæ£€æŸ¥é¡¹ç›®
1. **ä¾èµ–å…³ç³»ä¸€è‡´æ€§**
   - `dependency-graph.md` ä¸å„åŒ…æ–‡æ¡£çš„ä¾èµ–å£°æ˜ä¸€è‡´
   - `packages-overview.md` çš„ä¾èµ–å…³ç³»å›¾æ­£ç¡®

2. **ä¼˜å…ˆçº§ä¸€è‡´æ€§**
   - `development-priorities.md` ä¸å„åŒ…çš„ä¼˜å…ˆçº§å£°æ˜ä¸€è‡´
   - ä¼˜å…ˆçº§ç¬¦åˆä¾èµ–å…³ç³»ï¼ˆè¢«ä¾èµ–çš„åŒ…ä¼˜å…ˆçº§æ›´é«˜ï¼‰

3. **æ¶æ„çŠ¶æ€ä¸€è‡´æ€§**
   - `packages-overview.md` çš„çŠ¶æ€è¡¨æ ¼åæ˜ å®é™…è®¾è®¡è¿›åº¦
   - `README.md` çš„å¯¼èˆªé“¾æ¥å®Œæ•´æœ‰æ•ˆ

4. **æŠ€æœ¯çº¦æŸä¸€è‡´æ€§**
   - å„åŒ…çš„æ€§èƒ½çº¦æŸç¬¦åˆ `development-constraints.md`
   - æµ‹è¯•è¦†ç›–ç‡è¦æ±‚ç»Ÿä¸€

### è‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬ (å»ºè®®)
```bash
#!/bin/bash
# æ£€æŸ¥æ‰€æœ‰åŒ…æ–‡æ¡£æ˜¯å¦å­˜åœ¨
for package in core schema auth crud trpc ui ai-integration workflow starter-app; do
  if [ ! -f "ai-context/architecture/packages/$package.md" ]; then
    echo "Missing package documentation: $package.md"
  fi
done

# æ£€æŸ¥ README.md ä¸­çš„é“¾æ¥
grep -o '\[.*\](.*\.md)' ai-context/architecture/README.md | while read link; do
  file=$(echo $link | sed 's/.*(\(.*\))/\1/')
  if [ ! -f "ai-context/architecture/$file" ]; then
    echo "Broken link in README.md: $file"
  fi
done
```

---

## ğŸš¨ é‡è¦æé†’

### å¯¹ AI Agent çš„è¦æ±‚
1. **ä¿®æ”¹ä»»ä½•åŒ…æ–‡æ¡£å‰**ï¼Œå¿…é¡»å…ˆé˜…è¯»æœ¬ç»´æŠ¤æŒ‡å—
2. **æ¯æ¬¡ä¿®æ”¹å**ï¼Œå¿…é¡»æ£€æŸ¥å¹¶æ›´æ–°ç›¸å…³çš„å…¶ä»–æ–‡æ¡£
3. **æ·»åŠ æ–°åŒ…æ—¶**ï¼Œå¿…é¡»éµå¾ªæ ‡å‡†æ–‡æ¡£ç»“æ„
4. **åˆ é™¤åŒ…æ—¶**ï¼Œå¿…é¡»æ¸…ç†æ‰€æœ‰ç›¸å…³å¼•ç”¨

### æ–‡æ¡£è´¨é‡è¦æ±‚
- æ‰€æœ‰æ–‡æ¡£å¿…é¡»ä¿æŒæœ€æ–°çŠ¶æ€
- æŠ€æœ¯ç»†èŠ‚å¿…é¡»å‡†ç¡®å¯æ‰§è¡Œ
- ç¤ºä¾‹ä»£ç å¿…é¡»ç¬¦åˆå®é™…è®¾è®¡
- æ€§èƒ½çº¦æŸå¿…é¡»å¯æµ‹é‡éªŒè¯

### ç‰ˆæœ¬æ§åˆ¶
- é‡å¤§æ¶æ„å˜æ›´æ—¶æ›´æ–°æ–‡æ¡£ç‰ˆæœ¬å·
- åœ¨æ–‡æ¡£å¤´éƒ¨è®°å½•ä¿®æ”¹æ—¥æœŸ
- ä¿æŒå˜æ›´å†å²çš„å¯è¿½æº¯æ€§

---

**ç»´æŠ¤è´£ä»»**: ä»»ä½•ä¿®æ”¹ architecture ç›®å½•çš„ AI Agent éƒ½æœ‰è´£ä»»ç¡®ä¿æ–‡æ¡£çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚
