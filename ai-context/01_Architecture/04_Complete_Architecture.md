# LinchKit å®Œæ•´æ¶æ„è®¾è®¡æ–‡æ¡£

**ç‰ˆæœ¬**: v2.0.3  
**æ›´æ–°æ—¥æœŸ**: 2025-07-04  
**è®¾è®¡ç†å¿µ**: åˆ†å±‚ä½¿ç”¨æ¨¡å¼ + åŒ…åŠŸèƒ½å®Œæ•´æ€§ + çµæ´»é›†æˆæ–¹æ¡ˆ

## ğŸ¯ æ¶æ„æ ¸å¿ƒç†å¿µ

### è®¾è®¡å“²å­¦

1. **åŒ…åŠŸèƒ½å®Œæ•´æ€§**ï¼šæ¯ä¸ªåŒ…éƒ½æ˜¯åŠŸèƒ½å®Œæ•´çš„ç‹¬ç«‹åº“ï¼Œå¯å•ç‹¬ä½¿ç”¨
2. **åˆ†å±‚ä½¿ç”¨æ¨¡å¼**ï¼šæ”¯æŒä»å¼€ç®±å³ç”¨åˆ°å®Œå…¨è‡ªå®šä¹‰çš„å¤šç§ä½¿ç”¨æ–¹å¼
3. **èŒè´£æ¸…æ™°åˆ†ç¦»**ï¼šStarterï¼ˆç¯å¢ƒï¼‰+ Consoleï¼ˆé›†æˆï¼‰+ Packagesï¼ˆåŠŸèƒ½ï¼‰
4. **æ¸è¿›å¼å¤æ‚åº¦**ï¼šç”¨æˆ·å¯æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„ä½¿ç”¨æ¨¡å¼

### ä¸‰å±‚ä½¿ç”¨æ¨¡å¼

#### ğŸš€ **å¼€ç®±å³ç”¨æ¨¡å¼**ï¼ˆStarter + Consoleï¼‰

```
ç›®æ ‡ç”¨æˆ·: éœ€è¦å¿«é€Ÿä¸Šçº¿çš„ç”¨æˆ·
ä½¿ç”¨æ–¹å¼: starter + console + å†…ç½®æ’ä»¶
å®šåˆ¶ç¨‹åº¦: é…ç½®æ–‡ä»¶ + æ’ä»¶å•†åº—
å¼€å‘å·¥ä½œé‡: å‡ ä¹é›¶ä»£ç 
é€‚ç”¨åœºæ™¯: MVPã€åŸå‹éªŒè¯ã€æ ‡å‡†åŒ–éœ€æ±‚
```

#### ğŸ› ï¸ **å®šåˆ¶å¼€å‘æ¨¡å¼**ï¼ˆStarter + Console + è‡ªå®šä¹‰åŠŸèƒ½ï¼‰

```
ç›®æ ‡ç”¨æˆ·: æœ‰ç‰¹å®šéœ€æ±‚çš„å¼€å‘è€…
ä½¿ç”¨æ–¹å¼: starter + consoleï¼ˆåŸºç¡€åŠŸèƒ½ï¼‰+ è‡ªå®šä¹‰è·¯ç”±å’Œç»„ä»¶
å®šåˆ¶ç¨‹åº¦: åœ¨ Console åŸºç¡€ä¸Šæ‰©å±•è‡ªå®šä¹‰åŠŸèƒ½
å¼€å‘å·¥ä½œé‡: ä¸­ç­‰ï¼Œå¤ç”¨ Console + å¼€å‘ç‰¹å®šåŠŸèƒ½
é€‚ç”¨åœºæ™¯: ä¼ä¸šåº”ç”¨ã€ç‰¹å®šè¡Œä¸šéœ€æ±‚ã€æ··åˆå¼éœ€æ±‚
```

#### âš™ï¸ **æ·±åº¦é›†æˆæ¨¡å¼**ï¼ˆPure Packagesï¼‰

```
ç›®æ ‡ç”¨æˆ·: æœ‰ç°æœ‰ç³»ç»Ÿçš„ä¼ä¸šç”¨æˆ·
ä½¿ç”¨æ–¹å¼: ç›´æ¥åœ¨ç°æœ‰é¡¹ç›®ä¸­é›†æˆ packages/*
å®šåˆ¶ç¨‹åº¦: å®Œå…¨æ§åˆ¶
å¼€å‘å·¥ä½œé‡: è¾ƒé«˜ï¼Œä½†çµæ´»æ€§æœ€å¤§
é€‚ç”¨åœºæ™¯: ç°æœ‰ç³»ç»Ÿæ”¹é€ ã€å¾®æœåŠ¡æ¶æ„
```

## ğŸ“¦ æ¶æ„ç»„ä»¶èŒè´£å®šä¹‰

### **Starterï¼šè½»é‡çº§åº”ç”¨å¯åŠ¨å™¨**

**èŒè´£è¾¹ç•Œ**ï¼š

- âœ… æä¾› Next.js è¿è¡Œç¯å¢ƒ
- âœ… åŠ è½½å’Œç®¡ç†é…ç½®æ–‡ä»¶
- âœ… æä¾›åŸºç¡€è·¯ç”±æ¡†æ¶
- âœ… é›†æˆ Console æˆ–è‡ªå®šä¹‰é¡µé¢
- âœ… ç¯å¢ƒå˜é‡ç®¡ç†
- âŒ ä¸åŒ…å«å…·ä½“ä¸šåŠ¡é€»è¾‘
- âŒ ä¸åŒ…å« UI ç»„ä»¶å®ç°
- âŒ ä¸åŒ…å«æ•°æ®å¤„ç†é€»è¾‘

**æ–‡ä»¶ç»“æ„**ï¼š

```
apps/starter/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx              # å…¨å±€å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx               # å…¥å£é¡µé¢
â”‚   â”œâ”€â”€ globals.css            # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ dashboard/
â”‚       â””â”€â”€ [[...slug]]/
â”‚           â””â”€â”€ page.tsx       # Console/è‡ªå®šä¹‰é¡µé¢æŒ‚è½½ç‚¹
â”œâ”€â”€ components/                 # æœ€å°åŒ–ç»„ä»¶ï¼ˆLogoç­‰ï¼‰
â”œâ”€â”€ linchkit.config.ts         # ã€æ ¸å¿ƒã€‘åº”ç”¨é…ç½®
â”œâ”€â”€ package.json               # æœ€å°ä¾èµ–é›†
â””â”€â”€ .env.example               # ç¯å¢ƒå˜é‡æ¨¡æ¿
```

**ä¾èµ–ç­–ç•¥**ï¼š

```json
{
  "dependencies": {
    "@linch-kit/core": "workspace:*",
    "@linch-kit/console": "workspace:*", // å¯é€‰ï¼Œå¼€ç®±å³ç”¨æ¨¡å¼éœ€è¦
    "next": "^15.3.4",
    "react": "^19.0.0",
    "react-dom": "^19.0.0"
  }
}
```

### **Consoleï¼šä¼ä¸šçº§ç®¡ç†æ§åˆ¶å°é›†æˆå™¨**

**èŒè´£è¾¹ç•Œ**ï¼š

- âœ… é›†æˆæ‰€æœ‰ packages åŠŸèƒ½
- âœ… æä¾›å®Œæ•´çš„ç®¡ç†ç•Œé¢
- âœ… å®ç°æ’ä»¶ç®¡ç†ç³»ç»Ÿ
- âœ… æä¾›æœ€ä½³å®è·µç¤ºä¾‹
- âœ… å¼€ç®±å³ç”¨çš„ä¼ä¸šåŠŸèƒ½
- âŒ ä¸å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆè°ƒç”¨ packagesï¼‰
- âŒ ä¸é™åˆ¶ç”¨æˆ·ä½¿ç”¨æ–¹å¼
- âŒ ä¸å¼ºåˆ¶ä¾èµ–ç‰¹å®š UI

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š

1. **å®Œå…¨åŸºäº Packages æ„å»º**ï¼šConsole è‡ªèº«ä¸å®ç°ä¸šåŠ¡é€»è¾‘
2. **å¯é€‰æ‹©æ€§ä½¿ç”¨**ï¼šç”¨æˆ·å¯ä»¥å®Œå…¨ç»•è¿‡ Console
3. **æ’ä»¶åŒ–æ¶æ„**ï¼šæ”¯æŒåŠŸèƒ½æ‰©å±•å’Œæ›¿æ¢
4. **é…ç½®é©±åŠ¨**ï¼šé€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶åŠŸèƒ½å’Œå¤–è§‚

**æ–‡ä»¶ç»“æ„**ï¼š

```
modules/console/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/            # UI é›†æˆç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ dashboard/         # ä»ªè¡¨æ¿é›†æˆ
â”‚   â”‚   â”œâ”€â”€ user-management/   # ç”¨æˆ·ç®¡ç†é›†æˆ
â”‚   â”‚   â”œâ”€â”€ tenant-management/ # ç§Ÿæˆ·ç®¡ç†é›†æˆ
â”‚   â”‚   â””â”€â”€ plugin-market/     # æ’ä»¶å¸‚åœº
â”‚   â”œâ”€â”€ routes/               # è·¯ç”±é…ç½®å’Œç®¡ç†
â”‚   â”œâ”€â”€ plugins/              # å†…ç½®æ’ä»¶
â”‚   â”œâ”€â”€ hooks/                # ä¸šåŠ¡é’©å­
â”‚   â”œâ”€â”€ providers/            # Context Providers
â”‚   â””â”€â”€ index.ts              # ä¸»å…¥å£ï¼šLinchKitConsole
â”œâ”€â”€ plugins/                  # å®˜æ–¹æ’ä»¶åŒ…
â”‚   â”œâ”€â”€ user-management/
â”‚   â”œâ”€â”€ tenant-management/
â”‚   â”œâ”€â”€ analytics/
â”‚   â””â”€â”€ monitoring/
```

### **Packagesï¼šåŠŸèƒ½å®Œæ•´çš„ç‹¬ç«‹åº“**

**è®¾è®¡åŸåˆ™**ï¼š

1. **å®Œå…¨ç‹¬ç«‹**ï¼šæ¯ä¸ªåŒ…å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¸ä¾èµ–å…¶ä»– LinchKit åŒ…ï¼ˆé™¤ coreï¼‰
2. **åŠŸèƒ½å®Œæ•´**ï¼šåŒ…å«è¯¥é¢†åŸŸçš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å’Œ API
3. **æ–‡æ¡£é½å…¨**ï¼šæ¯ä¸ªåŒ…éƒ½æœ‰ç‹¬ç«‹çš„ä½¿ç”¨æ–‡æ¡£å’Œç¤ºä¾‹
4. **æµ‹è¯•è¦†ç›–**ï¼šé«˜è´¨é‡çš„æµ‹è¯•ä¿è¯åŒ…çš„ç¨³å®šæ€§

**åŒ…è®¾è®¡è§„èŒƒ**ï¼š

#### **@linch-kit/core**

```typescript
// åŸºç¡€è®¾æ–½åŒ…ï¼Œå…¶ä»–åŒ…çš„ä¾èµ–åŸºç¡€
{
  "åŠŸèƒ½": [
    "é…ç½®ç®¡ç†ç³»ç»Ÿ",
    "æ—¥å¿—è®°å½•ç³»ç»Ÿ",
    "æ’ä»¶ç®¡ç†æ¡†æ¶",
    "äº‹ä»¶ç³»ç»Ÿ",
    "å·¥å…·å‡½æ•°åº“"
  ],
  "ç‹¬ç«‹æ€§": "å®Œå…¨ç‹¬ç«‹ï¼Œæ— å¤–éƒ¨ä¾èµ–",
  "API": "å®Œæ•´çš„é…ç½®ã€æ—¥å¿—ã€æ’ä»¶æ¥å£"
}
```

#### **@linch-kit/auth**

```typescript
// è®¤è¯æˆæƒåŒ…
{
  "åŠŸèƒ½": [
    "å¤šç§è®¤è¯æ–¹å¼ï¼ˆJWTã€OAuthã€SAMLï¼‰",
    "RBAC/ABAC æƒé™å¼•æ“",
    "ä¼šè¯ç®¡ç†",
    "å®‰å…¨ä¸­é—´ä»¶"
  ],
  "ä¾èµ–": "@linch-kit/core",
  "ç‹¬ç«‹ä½¿ç”¨": "å¯é›†æˆåˆ°ä»»ä½• Node.js/Next.js é¡¹ç›®"
}
```

#### **@linch-kit/platform**

```typescript
// ä¸šåŠ¡å¼€å‘å¹³å°åŒ… - ä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆ
{
  "åŠŸèƒ½": [
    "Schema å®šä¹‰å’ŒéªŒè¯",
    "åŸºäº Schema çš„ CRUD ç”Ÿæˆå™¨",
    "ç±»å‹å®‰å…¨çš„ API è·¯ç”±",
    "æŸ¥è¯¢æ„å»ºå™¨",
    "æ‰¹é‡æ“ä½œ",
    "å…³è”æŸ¥è¯¢",
    "æ•°æ®éªŒè¯å’Œè½¬æ¢",
    "äº‹åŠ¡ç®¡ç†"
  ],
  "ä¾èµ–": "@linch-kit/core + @linch-kit/auth",
  "ç‹¬ç«‹ä½¿ç”¨": "ä¸€ä½“åŒ–ä¸šåŠ¡å¼€å‘å¹³å°"
}
```

#### **@linch-kit/ui**

```typescript
// UI ç»„ä»¶åŒ…
{
  "åŠŸèƒ½": [
    "åŸºç¡€ UI ç»„ä»¶åº“",
    "Schema é©±åŠ¨çš„ç»„ä»¶",
    "è¡¨å•å’Œè¡¨æ ¼ç»„ä»¶",
    "ä¸»é¢˜ç³»ç»Ÿ"
  ],
  "ä¾èµ–": "@linch-kit/core + @linch-kit/platform",
  "ç‹¬ç«‹ä½¿ç”¨": "å¯ç”¨äºä»»ä½• React é¡¹ç›®"
}
```

## ğŸ”§ å…·ä½“å®ç°æ–¹æ¡ˆ

### **1. é…ç½®æ–‡ä»¶è®¾è®¡**

```typescript
// apps/starter/linchkit.config.ts
export interface LinchKitConfig {
  // åŸºç¡€åº”ç”¨ä¿¡æ¯
  app: {
    name: string
    version: string
    description?: string
  }

  // ä½¿ç”¨æ¨¡å¼é€‰æ‹©
  mode: 'console' | 'hybrid' | 'packages-only'

  // Console é…ç½®ï¼ˆconsole å’Œ hybrid æ¨¡å¼éƒ½ä¼šä½¿ç”¨ï¼‰
  console?: {
    // å¯ç”¨çš„åŠŸèƒ½æ¨¡å—
    features: Array<'user-management' | 'tenant-management' | 'analytics' | 'monitoring'>

    // æ’ä»¶é…ç½®
    plugins: Array<{
      name: string
      version?: string
      config?: Record<string, unknown>
    }>

    // UI å®šåˆ¶
    customization: {
      logo?: string
      theme?: 'light' | 'dark' | 'auto'
      colors?: Record<string, string>
      layout?: 'sidebar' | 'topbar'
    }

    // æƒé™é…ç½®
    permissions?: {
      roles: Array<string>
      defaultRole: string
    }
  }

  // æ··åˆæ¨¡å¼é…ç½®ï¼ˆConsole + è‡ªå®šä¹‰åŠŸèƒ½ï¼‰
  hybrid?: {
    // è‡ªå®šä¹‰è·¯ç”±ï¼ˆä¼šæ·»åŠ åˆ° Console è·¯ç”±ä¸­ï¼‰
    customRoutes: Array<{
      path: string
      component: string
      name: string
      permissions?: string[]
    }>

    // è‡ªå®šä¹‰å¯¼èˆªé¡¹
    customNavigation?: Array<{
      label: string
      path: string
      icon?: string
      permissions?: string[]
    }>
  }

  // çº¯åŒ…æ¨¡å¼é…ç½®ï¼ˆä¸ä½¿ç”¨ Consoleï¼‰
  packagesOnly?: {
    routes: Record<string, string>
    components: Record<string, string>
  }

  // æ•°æ®åº“é…ç½®
  database: {
    provider: 'postgresql' | 'mysql' | 'sqlite'
    url: string
    migrations?: boolean
  }

  // è®¤è¯é…ç½®
  auth: {
    providers: Array<'credentials' | 'github' | 'google' | 'azure'>
    jwt: {
      secret: string
      expiresIn: string
    }
    session: {
      strategy: 'jwt' | 'database'
      maxAge: number
    }
  }

  // ç¯å¢ƒé…ç½®
  env: 'development' | 'production' | 'test'

  // è°ƒè¯•é…ç½®
  debug: boolean
}

// ä½¿ç”¨ç¤ºä¾‹ 1: å¼€ç®±å³ç”¨æ¨¡å¼
const consoleConfig: LinchKitConfig = {
  app: {
    name: 'My Enterprise App',
    version: '1.0.0',
  },

  mode: 'console',

  console: {
    features: ['user-management', 'tenant-management', 'analytics'],
    plugins: [
      { name: '@linch-kit/plugin-advanced-analytics', version: '^1.0.0' },
      { name: './plugins/custom-theme' },
    ],
    customization: {
      logo: './assets/company-logo.svg',
      theme: 'dark',
      colors: {
        primary: '#1e40af',
        secondary: '#64748b',
      },
    },
  },

  database: {
    provider: 'postgresql',
    url: process.env.DATABASE_URL!,
  },

  auth: {
    providers: ['credentials', 'github'],
    jwt: {
      secret: process.env.JWT_SECRET!,
      expiresIn: '7d',
    },
  },
}

// ä½¿ç”¨ç¤ºä¾‹ 2: æ··åˆå¼€å‘æ¨¡å¼ï¼ˆConsole + è‡ªå®šä¹‰åŠŸèƒ½ï¼‰
const hybridConfig: LinchKitConfig = {
  app: {
    name: 'Custom Enterprise App',
    version: '1.0.0',
  },

  mode: 'hybrid',

  console: {
    // ä½¿ç”¨ Console çš„åŸºç¡€åŠŸèƒ½
    features: ['user-management', 'tenant-management'],
    customization: {
      logo: './assets/logo.svg',
      theme: 'light',
    },
  },

  hybrid: {
    // æ·»åŠ è‡ªå®šä¹‰è·¯ç”±
    customRoutes: [
      {
        path: '/inventory',
        component: './components/inventory/InventoryPage',
        name: 'åº“å­˜ç®¡ç†',
        permissions: ['inventory:read'],
      },
      {
        path: '/reports/custom',
        component: './components/reports/CustomReports',
        name: 'è‡ªå®šä¹‰æŠ¥è¡¨',
      },
    ],

    // è‡ªå®šä¹‰å¯¼èˆªé¡¹
    customNavigation: [
      {
        label: 'åº“å­˜ç®¡ç†',
        path: '/inventory',
        icon: 'Package',
        permissions: ['inventory:read'],
      },
      {
        label: 'ä¸šåŠ¡æŠ¥è¡¨',
        path: '/reports/custom',
        icon: 'BarChart',
      },
    ],
  },

  database: {
    provider: 'postgresql',
    url: process.env.DATABASE_URL!,
  },

  auth: {
    providers: ['credentials'],
    jwt: {
      secret: process.env.JWT_SECRET!,
      expiresIn: '7d',
    },
  },
}

export default hybridConfig
```

### **2. Console é›†æˆæ¶æ„**

```typescript
// modules/console/src/index.ts
export interface ConsoleProps {
  config: LinchKitConfig
  children?: React.ReactNode
}

export const LinchKitConsole: React.FC<ConsoleProps> = ({ config }) => {
  return (
    <ConsoleProvider config={config}>
      <PluginProvider plugins={config.console?.plugins}>
        <ThemeProvider theme={config.console?.customization?.theme}>
          <ConsoleLayout>
            <ConsoleRouter />
          </ConsoleLayout>
        </ThemeProvider>
      </PluginProvider>
    </ConsoleProvider>
  )
}

// Console å†…éƒ¨å®Œå…¨åŸºäº packages æ„å»º
import { createPlatformCRUD, defineEntity } from '@linch-kit/platform'
import { SchemaTable, SchemaForm } from '@linch-kit/ui'
import { useAuth, createAuthMiddleware } from '@linch-kit/auth'
import { Logger, PluginManager } from '@linch-kit/core'
```

### **3. çµæ´»ä½¿ç”¨ç¤ºä¾‹**

#### **å¼€ç®±å³ç”¨æ¨¡å¼**

```typescript
// apps/starter/app/dashboard/[[...slug]]/page.tsx
import { LinchKitConsole } from '@linch-kit/console'
import config from '@/linchkit.config'

export default function DashboardPage() {
  return <LinchKitConsole config={config} />
}
```

#### **æ··åˆå¼€å‘æ¨¡å¼ï¼ˆConsole + è‡ªå®šä¹‰åŠŸèƒ½ï¼‰**

```typescript
// apps/starter/app/dashboard/[[...slug]]/page.tsx
import { LinchKitConsole } from '@linch-kit/console'
import config from '@/linchkit.config'

// Console ä¼šè‡ªåŠ¨åŠ è½½è‡ªå®šä¹‰è·¯ç”±
export default function DashboardPage() {
  return <LinchKitConsole config={config} />
}

// apps/starter/components/inventory/InventoryPage.tsx
import { SchemaTable } from '@linch-kit/ui'
import { createPlatformCRUD } from '@linch-kit/platform'
import { InventorySchema } from '@/schemas/inventory'

const inventoryCRUD = createPlatformCRUD(InventorySchema, {
  permissions: ['inventory:read', 'inventory:write']
})

export default function InventoryPage() {
  const { data, isLoading } = inventoryCRUD.useList()

  return (
    <div className="space-y-6">
      <div className="flex justify-between items-center">
        <h1 className="text-3xl font-bold">åº“å­˜ç®¡ç†</h1>
        <InventoryCreateButton />
      </div>

      <SchemaTable
        schema={InventorySchema}
        data={data}
        loading={isLoading}
        columns={['name', 'sku', 'quantity', 'status']}
        actions={[
          { label: 'ç¼–è¾‘', action: 'edit', permission: 'inventory:update' },
          { label: 'åˆ é™¤', action: 'delete', permission: 'inventory:delete' }
        ]}
        customRenderers={{
          status: (value) => <StockStatusBadge status={value} />,
          quantity: (value) => <QuantityIndicator quantity={value} />
        }}
      />
    </div>
  )
}
```

#### **ç°æœ‰é¡¹ç›®é›†æˆ**

```typescript
// ç°æœ‰é¡¹ç›®ä¸­é›†æˆè®¤è¯
import { createAuthMiddleware, useAuth } from '@linch-kit/auth'
import { Logger } from '@linch-kit/core'

// Express.js é›†æˆç¤ºä¾‹
app.use('/api', createAuthMiddleware({
  providers: ['jwt'],
  secret: process.env.JWT_SECRET
}))

// React ç»„ä»¶ä¸­ä½¿ç”¨
function MyExistingComponent() {
  const { user, login, logout } = useAuth()

  return (
    <div>
      {user ? (
        <div>Welcome, {user.name}!</div>
      ) : (
        <LoginForm onSubmit={login} />
      )}
    </div>
  )
}
```

## ğŸ”Œ æ’ä»¶ç³»ç»Ÿæ¶æ„

### **æ’ä»¶æ¥å£å®šä¹‰**

```typescript
// @linch-kit/core/types/plugin.ts
export interface LinchKitPlugin {
  // åŸºç¡€ä¿¡æ¯
  name: string
  version: string
  description?: string
  author?: string

  // ä¾èµ–å£°æ˜
  dependencies?: Array<{
    name: string
    version: string
  }>

  // ç»„ä»¶è¦†ç›–/æ‰©å±•
  components?: Record<string, React.ComponentType<any>>

  // è·¯ç”±æ‰©å±•
  routes?: Array<{
    path: string
    component: React.ComponentType
    permissions?: string[]
    layout?: 'default' | 'fullscreen' | 'minimal'
  }>

  // æœåŠ¡æ‰©å±•
  services?: Record<
    string,
    {
      create: (options: any) => any
      extend?: (existing: any) => any
    }
  >

  // API æ‰©å±•
  api?: {
    routes: Record<string, any>
    middleware?: Array<any>
  }

  // ç”Ÿå‘½å‘¨æœŸé’©å­
  hooks?: {
    onInstall?: () => Promise<void>
    onUninstall?: () => Promise<void>
    onInit?: (context: LinchKitContext) => Promise<void>
    onAuth?: (user: User) => Promise<void>
    onError?: (error: Error) => void
  }

  // é…ç½®æ¨¡å¼
  config?: {
    schema: z.ZodSchema
    defaults: Record<string, any>
  }
}
```

### **å†…ç½®æ’ä»¶ç”Ÿæ€**

```typescript
// å®˜æ–¹æ’ä»¶
const officialPlugins = [
  '@linch-kit/plugin-user-management', // ç”¨æˆ·ç®¡ç†
  '@linch-kit/plugin-tenant-management', // ç§Ÿæˆ·ç®¡ç†
  '@linch-kit/plugin-role-management', // è§’è‰²æƒé™ç®¡ç†
  '@linch-kit/plugin-analytics', // æ•°æ®åˆ†æ
  '@linch-kit/plugin-monitoring', // ç³»ç»Ÿç›‘æ§
  '@linch-kit/plugin-audit-log', // å®¡è®¡æ—¥å¿—
  '@linch-kit/plugin-file-manager', // æ–‡ä»¶ç®¡ç†
  '@linch-kit/plugin-notification', // é€šçŸ¥ç³»ç»Ÿ
  '@linch-kit/plugin-backup', // æ•°æ®å¤‡ä»½
  '@linch-kit/plugin-import-export', // æ•°æ®å¯¼å…¥å¯¼å‡º
]

// ç¬¬ä¸‰æ–¹æ’ä»¶ç¤ºä¾‹
const thirdPartyPlugins = [
  '@company/linchkit-crm-integration', // CRM é›†æˆ
  '@team/custom-reporting', // è‡ªå®šä¹‰æŠ¥è¡¨
  'linchkit-payment-gateway', // æ”¯ä»˜ç½‘å…³
]
```

### **æ’ä»¶å¼€å‘ç¤ºä¾‹**

```typescript
// plugins/custom-analytics/index.ts
export default {
  name: 'custom-analytics',
  version: '1.0.0',
  description: 'è‡ªå®šä¹‰æ•°æ®åˆ†ææ’ä»¶',

  components: {
    // è¦†ç›–é»˜è®¤ä»ªè¡¨æ¿
    Dashboard: () => <CustomDashboard />,
    // æ–°å¢åˆ†æç»„ä»¶
    AdvancedChart: () => <AdvancedChartComponent />
  },

  routes: [
    {
      path: '/analytics',
      component: () => <AnalyticsPage />,
      permissions: ['analytics:view']
    },
    {
      path: '/reports',
      component: () => <ReportsPage />,
      permissions: ['reports:view']
    }
  ],

  services: {
    analytics: {
      create: (options) => new AnalyticsService(options),
      extend: (existing) => {
        return {
          ...existing,
          customMetrics: () => { /* è‡ªå®šä¹‰æŒ‡æ ‡ */ }
        }
      }
    }
  },

  api: {
    routes: {
      '/api/analytics': analyticsRouter,
      '/api/reports': reportsRouter
    }
  },

  hooks: {
    onInit: async (context) => {
      Logger.info('Analytics plugin initialized')
      // åˆå§‹åŒ–æ•°æ®åº“è¡¨
      await initAnalyticsTables()
    }
  },

  config: {
    schema: z.object({
      provider: z.enum(['google-analytics', 'mixpanel', 'custom']),
      apiKey: z.string(),
      trackingId: z.string().optional()
    }),
    defaults: {
      provider: 'custom'
    }
  }
} satisfies LinchKitPlugin
```

## ğŸ“‹ è¿ç§»å®æ–½è®¡åˆ’

### **Phase 1: åŒ…å®Œæ•´æ€§éªŒè¯**ï¼ˆ1å‘¨ï¼‰

1. å®¡æ ¸æ¯ä¸ª package çš„ç‹¬ç«‹æ€§å’ŒåŠŸèƒ½å®Œæ•´æ€§
2. è¡¥å……ç¼ºå¤±çš„ API å’Œæ–‡æ¡£
3. ç¡®ä¿æ¯ä¸ªåŒ…éƒ½å¯ä»¥ç‹¬ç«‹ä½¿ç”¨
4. ç¼–å†™ç‹¬ç«‹ä½¿ç”¨ç¤ºä¾‹

### **Phase 2: Console é‡æ„**ï¼ˆ2å‘¨ï¼‰

1. å°† Console é‡æ„ä¸ºçº¯é›†æˆå™¨
2. ç§»é™¤ Console ä¸­çš„ä¸šåŠ¡é€»è¾‘å®ç°
3. åŸºäº packages é‡æ–°æ„å»º Console
4. å®ç°æ’ä»¶ç®¡ç†ç³»ç»Ÿ

### **Phase 3: Starter ç²¾ç®€**ï¼ˆ1å‘¨ï¼‰

1. ç²¾ç®€ Starter åˆ°æœ€å°ä¾èµ–
2. å®ç°é…ç½®æ–‡ä»¶ç³»ç»Ÿ
3. æ”¯æŒå¤šç§ä½¿ç”¨æ¨¡å¼
4. åˆ›å»ºä½¿ç”¨ç¤ºä¾‹

### **Phase 4: æ’ä»¶ç”Ÿæ€**ï¼ˆ2å‘¨ï¼‰

1. å®ç°æ’ä»¶ç³»ç»Ÿæ ¸å¿ƒåŠŸèƒ½
2. å¼€å‘å®˜æ–¹æ’ä»¶
3. åˆ›å»ºæ’ä»¶å¼€å‘å·¥å…·
4. ç¼–å†™æ’ä»¶å¼€å‘æ–‡æ¡£

### **Phase 5: æ–‡æ¡£å’Œæµ‹è¯•**ï¼ˆ1å‘¨ï¼‰

1. å®Œå–„æ¶æ„æ–‡æ¡£
2. ç¼–å†™ä½¿ç”¨æŒ‡å—
3. åˆ›å»ºæœ€ä½³å®è·µç¤ºä¾‹
4. è¡¥å……æµ‹è¯•è¦†ç›–

## ğŸ¯ æ¶æ„ä¼˜åŠ¿

### **ç”¨æˆ·è§†è§’**

1. **çµæ´»é€‰æ‹©**ï¼šå¯æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„ä½¿ç”¨æ¨¡å¼
2. **æ¸è¿›å‡çº§**ï¼šä»å¼€ç®±å³ç”¨åˆ°å®Œå…¨è‡ªå®šä¹‰çš„å¹³æ»‘å‡çº§è·¯å¾„
3. **ç”Ÿæ€ä¸°å¯Œ**ï¼šå®˜æ–¹æ’ä»¶ + ç¬¬ä¸‰æ–¹æ’ä»¶ + è‡ªå®šä¹‰æ’ä»¶
4. **å­¦ä¹ æˆæœ¬ä½**ï¼šç»Ÿä¸€çš„ API è®¾è®¡å’Œæ–‡æ¡£

### **å¼€å‘è€…è§†è§’**

1. **èŒè´£æ¸…æ™°**ï¼šæ¯ä¸ªç»„ä»¶çš„èŒè´£è¾¹ç•Œæ˜ç¡®
2. **æ˜“äºç»´æŠ¤**ï¼šåŠŸèƒ½é›†ä¸­åœ¨å¯¹åº”çš„åŒ…ä¸­
3. **æ‰©å±•æ€§å¼º**ï¼šæ’ä»¶ç³»ç»Ÿæ”¯æŒæ— é™æ‰©å±•
4. **æµ‹è¯•å‹å¥½**ï¼šç‹¬ç«‹çš„åŒ…ä¾¿äºå•å…ƒæµ‹è¯•

### **ä¼ä¸šè§†è§’**

1. **å¿«é€Ÿä¸Šçº¿**ï¼šå¼€ç®±å³ç”¨æ¨¡å¼æ”¯æŒå¿«é€Ÿ MVP
2. **å®šåˆ¶çµæ´»**ï¼šå®Œå…¨çš„å®šåˆ¶å¼€å‘èƒ½åŠ›
3. **æŠ•èµ„ä¿æŠ¤**ï¼šå¯é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿ
4. **ç”Ÿæ€æ”¯æŒ**ï¼šä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿ

è¿™ä¸ªæ¶æ„è®¾è®¡ç¡®ä¿äº† LinchKit æ—¢èƒ½æ»¡è¶³å¿«é€Ÿå¼€å‘çš„éœ€æ±‚ï¼Œåˆä¿æŒäº†è¶³å¤Ÿçš„çµæ´»æ€§å’Œæ‰©å±•æ€§ï¼Œä¸ºä¸åŒè§„æ¨¡å’Œéœ€æ±‚çš„ç”¨æˆ·æä¾›äº†åˆé€‚çš„è§£å†³æ–¹æ¡ˆã€‚
