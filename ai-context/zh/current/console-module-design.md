# Console æ¨¡å—è®¾è®¡è§„èŒƒ

**åˆ›å»ºæ—¥æœŸ**: 2025-06-28  
**ç±»å‹**: æ ¸å¿ƒéªŒè¯æ¨¡å—  
**ä½ç½®**: `/modules/console`

---

## ğŸ¯ æ¨¡å—å®šä½ä¸ç›®æ ‡

### æ ¸å¿ƒå®šä½
- **ä¼ä¸šçº§ç®¡ç†å¹³å°** - å¤šç§Ÿæˆ·ã€æƒé™ã€ç›‘æ§ä¸€ä½“åŒ–
- **LinchKit åŠŸèƒ½éªŒè¯** - éªŒè¯æ‰€æœ‰åŒ…çš„é›†æˆå¯è¡Œæ€§
- **Starter åŸºç¡€** - ä¸º apps/starter æä¾›ä¼ä¸šçº§æ¨¡æ¿
- **ç”Ÿäº§å°±ç»ª** - å¯ç›´æ¥éƒ¨ç½²çš„ä¼ä¸šçº§åº”ç”¨

### ä¸ç°æœ‰é¡¹ç›®å…³ç³»
```
apps/demo-app (åŸstarter-app)  â† åŠŸèƒ½æ¼”ç¤º
modules/console                â† ä¼ä¸šçº§ç®¡ç†å¹³å° (æ–°å»º)
apps/starter                   â† ç”Ÿäº§çº§starteråŒ… (åŸºäºconsole)
```

---

## ğŸ—ï¸ æ¨¡å—æ¶æ„è®¾è®¡

### ç›®å½•ç»“æ„
```
modules/console/
â”œâ”€â”€ package.json                 # æ¨¡å—ä¾èµ–é…ç½®
â”œâ”€â”€ next.config.ts              # Next.js é…ç½®
â”œâ”€â”€ tailwind.config.ts          # Tailwind é…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”œâ”€â”€ prisma/                     # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ schema.prisma           # Prisma schema
â”‚   â””â”€â”€ migrations/             # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ page.tsx            # é¦–é¡µ - ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ auth/               # è®¤è¯ç›¸å…³é¡µé¢
â”‚   â”‚   â”œâ”€â”€ tenants/            # ç§Ÿæˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ users/              # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ permissions/        # æƒé™ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ plugins/            # æ’ä»¶å¸‚åœº
â”‚   â”‚   â”œâ”€â”€ monitoring/         # ç³»ç»Ÿç›‘æ§
â”‚   â”‚   â”œâ”€â”€ schemas/            # Schema ç®¡ç†
â”‚   â”‚   â””â”€â”€ api/                # API è·¯ç”±
â”‚   â”œâ”€â”€ components/             # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ dashboard/          # ä»ªè¡¨æ¿ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ tenant/             # ç§Ÿæˆ·ç®¡ç†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ user/               # ç”¨æˆ·ç®¡ç†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ permission/         # æƒé™ç®¡ç†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ plugin/             # æ’ä»¶ç®¡ç†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ monitoring/         # ç›‘æ§ç»„ä»¶
â”‚   â”‚   â””â”€â”€ layout/             # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ lib/                    # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ auth.ts             # è®¤è¯é…ç½®
â”‚   â”‚   â”œâ”€â”€ db.ts               # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ trpc.ts             # tRPC é…ç½®
â”‚   â”‚   â””â”€â”€ utils.ts            # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ server/                 # æœåŠ¡å™¨é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ routers/            # tRPC è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ middleware/         # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ services/           # ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ types/                  # ç±»å‹å®šä¹‰
â””â”€â”€ docs/                       # æ¨¡å—æ–‡æ¡£
    â”œâ”€â”€ README.md               # æ¨¡å—è¯´æ˜
    â”œâ”€â”€ deployment.md           # éƒ¨ç½²æŒ‡å—
    â””â”€â”€ api.md                  # API æ–‡æ¡£
```

---

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ä»ªè¡¨æ¿ (Dashboard)
**è·¯å¾„**: `/` (é¦–é¡µ)  
**åŠŸèƒ½**:
- ç³»ç»Ÿæ¦‚è§ˆ - ç”¨æˆ·æ•°ã€ç§Ÿæˆ·æ•°ã€æ’ä»¶æ•°
- å®æ—¶ç›‘æ§ - CPUã€å†…å­˜ã€æ•°æ®åº“çŠ¶æ€
- å¿«é€Ÿæ“ä½œ - å¸¸ç”¨ç®¡ç†åŠŸèƒ½å…¥å£
- æ´»åŠ¨æ—¥å¿— - ç³»ç»Ÿæ“ä½œè®°å½•

**ä½¿ç”¨çš„ LinchKit åŒ…**:
- `@linch-kit/core` - ç›‘æ§æŒ‡æ ‡ã€æ—¥å¿—
- `@linch-kit/crud` - æ•°æ®ç»Ÿè®¡æŸ¥è¯¢
- `@linch-kit/ui` - ä»ªè¡¨æ¿ç»„ä»¶

### 2. ç§Ÿæˆ·ç®¡ç† (Tenant Management)
**è·¯å¾„**: `/tenants`  
**åŠŸèƒ½**:
- ç§Ÿæˆ·åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€çŠ¶æ€ç®¡ç†
- èµ„æºé…é¢ç®¡ç† - ç”¨æˆ·æ•°é™åˆ¶ã€å­˜å‚¨é™åˆ¶
- æ•°æ®éš”ç¦»é…ç½® - ç§Ÿæˆ·é—´æƒé™éš”ç¦»
- è®¡è´¹ç®¡ç† - ä½¿ç”¨é‡ç»Ÿè®¡ã€è´¦å•ç”Ÿæˆ

**ä½¿ç”¨çš„ LinchKit åŒ…**:
- `@linch-kit/schema` - ç§Ÿæˆ·æ•°æ®æ¨¡å‹
- `@linch-kit/crud` - ç§Ÿæˆ· CRUD æ“ä½œ
- `@linch-kit/auth` - å¤šç§Ÿæˆ·æƒé™æ§åˆ¶
- `@linch-kit/ui` - ç§Ÿæˆ·ç®¡ç†è¡¨å•å’Œè¡¨æ ¼

### 3. ç”¨æˆ·ç®¡ç† (User Management)
**è·¯å¾„**: `/users`  
**åŠŸèƒ½**:
- ç”¨æˆ· CRUD æ“ä½œ - åˆ›å»ºã€æŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤
- è§’è‰²åˆ†é… - ç®¡ç†å‘˜ã€æ™®é€šç”¨æˆ·ã€ç§Ÿæˆ·ç®¡ç†å‘˜
- æƒé™ç®¡ç† - ç»†ç²’åº¦æƒé™åˆ†é…
- ç”¨æˆ·æ´»åŠ¨ - ç™»å½•è®°å½•ã€æ“ä½œæ—¥å¿—

**ä½¿ç”¨çš„ LinchKit åŒ…**:
- `@linch-kit/auth` - ç”¨æˆ·è®¤è¯ã€è§’è‰²æƒé™
- `@linch-kit/crud` - ç”¨æˆ·æ•°æ®æ“ä½œ
- `@linch-kit/ui` - ç”¨æˆ·ç®¡ç†ç•Œé¢
- `@linch-kit/schema` - ç”¨æˆ·æ•°æ®éªŒè¯

### 4. æƒé™ç®¡ç† (Permission Management)
**è·¯å¾„**: `/permissions`  
**åŠŸèƒ½**:
- æƒé™ç­–ç•¥é…ç½® - RBAC/ABAC è§„åˆ™
- è§’è‰²ç®¡ç† - åˆ›å»ºã€ç¼–è¾‘è§’è‰²å’Œæƒé™
- æƒé™å®¡è®¡ - æƒé™å˜æ›´å†å²ã€è®¿é—®æ—¥å¿—
- æ‰¹é‡æƒé™æ“ä½œ - æ‰¹é‡åˆ†é…ã€å›æ”¶æƒé™

**ä½¿ç”¨çš„ LinchKit åŒ…**:
- `@linch-kit/auth` - æƒé™å¼•æ“ (CASL)
- `@linch-kit/crud` - æƒé™æ•°æ®ç®¡ç†
- `@linch-kit/ui` - æƒé™é…ç½®ç•Œé¢

### 5. æ’ä»¶å¸‚åœº (Plugin Marketplace)
**è·¯å¾„**: `/plugins`  
**åŠŸèƒ½**:
- æ’ä»¶å‘ç° - æµè§ˆã€æœç´¢ã€åˆ†ç±»
- æ’ä»¶å®‰è£… - ä¸€é”®å®‰è£…ã€ä¾èµ–ç®¡ç†
- æ’ä»¶é…ç½® - å‚æ•°é…ç½®ã€ç¯å¢ƒè®¾ç½®
- æ’ä»¶ç›‘æ§ - çŠ¶æ€ç›‘æ§ã€æ€§èƒ½åˆ†æ

**ä½¿ç”¨çš„ LinchKit åŒ…**:
- `@linch-kit/core` - æ’ä»¶ç³»ç»Ÿç®¡ç†
- `@linch-kit/crud` - æ’ä»¶æ•°æ®ç®¡ç†
- `@linch-kit/ui` - æ’ä»¶å¸‚åœºç•Œé¢

### 6. ç³»ç»Ÿç›‘æ§ (System Monitoring)
**è·¯å¾„**: `/monitoring`  
**åŠŸèƒ½**:
- å®æ—¶ç›‘æ§ - CPUã€å†…å­˜ã€ç½‘ç»œã€æ•°æ®åº“
- æ€§èƒ½åˆ†æ - API å“åº”æ—¶é—´ã€é”™è¯¯ç‡
- å‘Šè­¦ç®¡ç† - é˜ˆå€¼è®¾ç½®ã€é€šçŸ¥é…ç½®
- æ—¥å¿—æŸ¥çœ‹ - ç³»ç»Ÿæ—¥å¿—ã€é”™è¯¯æ—¥å¿—ã€å®¡è®¡æ—¥å¿—

**ä½¿ç”¨çš„ LinchKit åŒ…**:
- `@linch-kit/core` - ç›‘æ§æŒ‡æ ‡ã€æ—¥å¿—ç³»ç»Ÿ
- `@linch-kit/trpc` - API æ€§èƒ½ç›‘æ§
- `@linch-kit/ui` - ç›‘æ§å›¾è¡¨ç»„ä»¶

### 7. Schema ç®¡ç† (Schema Management)
**è·¯å¾„**: `/schemas`  
**åŠŸèƒ½**:
- Schema è®¾è®¡å™¨ - å¯è§†åŒ– Schema åˆ›å»º
- æ•°æ®æ¨¡å‹ç®¡ç† - å®ä½“ã€å­—æ®µã€å…³ç³»é…ç½®
- ä»£ç ç”Ÿæˆ - Prismaã€TypeScriptã€API ç”Ÿæˆ
- è¿ç§»ç®¡ç† - æ•°æ®åº“è¿ç§»ã€ç‰ˆæœ¬æ§åˆ¶

**ä½¿ç”¨çš„ LinchKit åŒ…**:
- `@linch-kit/schema` - Schema å¼•æ“ã€ä»£ç ç”Ÿæˆ
- `@linch-kit/crud` - Schema æ•°æ®ç®¡ç†
- `@linch-kit/ui` - Schema è®¾è®¡ç•Œé¢

---

## ğŸ“Š æ•°æ®æ¨¡å‹è®¾è®¡

### æ ¸å¿ƒå®ä½“
```typescript
// ç§Ÿæˆ· Tenant
interface Tenant {
  id: string
  name: string
  domain: string
  status: 'active' | 'suspended' | 'deleted'
  quotas: TenantQuotas
  createdAt: Date
  updatedAt: Date
}

// ç”¨æˆ· User (æ‰©å±• LinchKitUser)
interface ConsoleUser extends LinchKitUser {
  tenantId: string
  roles: Role[]
  lastLoginAt?: Date
  isActive: boolean
}

// æ’ä»¶ Plugin
interface Plugin {
  id: string
  name: string
  version: string
  description: string
  author: string
  status: 'installed' | 'available' | 'updating'
  config: Record<string, any>
}

// ç›‘æ§æŒ‡æ ‡ Metric
interface SystemMetric {
  id: string
  type: 'cpu' | 'memory' | 'database' | 'api'
  value: number
  timestamp: Date
  tenantId?: string
}
```

---

## ğŸ”Œ LinchKit åŒ…é›†æˆç­–ç•¥

### 1. Core åŒ…é›†æˆ
- **æ—¥å¿—ç³»ç»Ÿ**: ç»Ÿä¸€çš„ç»“æ„åŒ–æ—¥å¿—
- **é…ç½®ç®¡ç†**: å¤šç¯å¢ƒé…ç½®ã€çƒ­æ›´æ–°
- **ç›‘æ§æŒ‡æ ‡**: Prometheus æŒ‡æ ‡æ”¶é›†
- **æ’ä»¶ç³»ç»Ÿ**: Console è‡ªèº«ä½œä¸º Core æ’ä»¶

### 2. Schema åŒ…é›†æˆ
- **æ•°æ®å»ºæ¨¡**: ä½¿ç”¨ defineEntity å®šä¹‰æ‰€æœ‰å®ä½“
- **ä»£ç ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆ Prisma schema å’Œ TypeScript ç±»å‹
- **éªŒè¯**: ç»Ÿä¸€çš„æ•°æ®éªŒè¯å’Œè½¬æ¢

### 3. Auth åŒ…é›†æˆ
- **å¤šç§Ÿæˆ·è®¤è¯**: ç§Ÿæˆ·éš”ç¦»çš„è®¤è¯ç³»ç»Ÿ
- **æƒé™æ§åˆ¶**: RBAC/ABAC æƒé™ç®¡ç†
- **ä¼šè¯ç®¡ç†**: JWT å’Œåˆ·æ–°ä»¤ç‰Œ

### 4. CRUD åŒ…é›†æˆ
- **æ•°æ®æ“ä½œ**: ç±»å‹å®‰å…¨çš„ CRUD æ“ä½œ
- **æƒé™è¿‡æ»¤**: è‡ªåŠ¨çš„è¡Œçº§ã€å­—æ®µçº§æƒé™è¿‡æ»¤
- **ç¼“å­˜ç­–ç•¥**: æ™ºèƒ½çš„æŸ¥è¯¢ç¼“å­˜

### 5. tRPC åŒ…é›†æˆ
- **API å±‚**: ç«¯åˆ°ç«¯ç±»å‹å®‰å…¨çš„ API
- **ä¸­é—´ä»¶**: è®¤è¯ã€æƒé™ã€é€Ÿç‡é™åˆ¶ä¸­é—´ä»¶
- **å®æ—¶æ›´æ–°**: WebSocket æ”¯æŒ

### 6. UI åŒ…é›†æˆ
- **Schema è¡¨å•**: è‡ªåŠ¨ç”Ÿæˆçš„ç®¡ç†è¡¨å•
- **Schema è¡¨æ ¼**: è‡ªåŠ¨ç”Ÿæˆçš„æ•°æ®è¡¨æ ¼
- **è®¾è®¡ç³»ç»Ÿ**: ç»Ÿä¸€çš„ UI ç»„ä»¶

---

## ğŸš€ å¼€å‘æµç¨‹

### Phase 1: åŸºç¡€æ¶æ„ (Week 1)
1. **é¡¹ç›®ç»“æ„æ­å»º** - åˆ›å»ºç›®å½•ç»“æ„ã€é…ç½®æ–‡ä»¶
2. **æ•°æ®åº“è®¾è®¡** - Prisma schemaã€è¿ç§»æ–‡ä»¶
3. **è®¤è¯é›†æˆ** - NextAuth.js é…ç½®ã€å¤šç§Ÿæˆ·æ”¯æŒ
4. **åŸºç¡€å¸ƒå±€** - ä¸»å¸ƒå±€ã€å¯¼èˆªã€ä¾§è¾¹æ 

### Phase 2: æ ¸å¿ƒåŠŸèƒ½ (Week 2)
1. **ä»ªè¡¨æ¿** - ç³»ç»Ÿæ¦‚è§ˆã€ç›‘æ§å›¾è¡¨
2. **ç§Ÿæˆ·ç®¡ç†** - å®Œæ•´çš„ç§Ÿæˆ· CRUD
3. **ç”¨æˆ·ç®¡ç†** - ç”¨æˆ· CRUDã€è§’è‰²åˆ†é…
4. **æƒé™ç®¡ç†** - æƒé™é…ç½®ç•Œé¢

### Phase 3: é«˜çº§åŠŸèƒ½ (Week 3)
1. **æ’ä»¶å¸‚åœº** - æ’ä»¶å‘ç°ã€å®‰è£…ã€é…ç½®
2. **ç³»ç»Ÿç›‘æ§** - å®æ—¶ç›‘æ§ã€å‘Šè­¦
3. **Schema ç®¡ç†** - Schema è®¾è®¡å™¨
4. **API å®Œå–„** - å®Œæ•´çš„ tRPC API

### Phase 4: ä¼˜åŒ–å’Œå‘å¸ƒ (Week 4)
1. **æ€§èƒ½ä¼˜åŒ–** - æŸ¥è¯¢ä¼˜åŒ–ã€ç¼“å­˜ç­–ç•¥
2. **æµ‹è¯•è¦†ç›–** - å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•
3. **æ–‡æ¡£ç¼–å†™** - API æ–‡æ¡£ã€ç”¨æˆ·æŒ‡å—
4. **Starter åŒ…** - åŸºäº Console çš„ apps/starter

---

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½æ ‡å‡†
- [ ] æ‰€æœ‰ 7 å¤§åŠŸèƒ½æ¨¡å—å®Œæ•´å®ç°
- [ ] ä¸ 6 ä¸ª LinchKit åŒ…æ·±åº¦é›†æˆ
- [ ] å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»éªŒè¯
- [ ] æƒé™ç³»ç»Ÿå…¨é¢æµ‹è¯•

### æŠ€æœ¯æ ‡å‡†
- [ ] TypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œæ—  any ç±»å‹
- [ ] æµ‹è¯•è¦†ç›–ç‡ > 80%
- [ ] æ„å»ºæ—¶é—´ < 30 ç§’
- [ ] API å“åº”æ—¶é—´ < 500ms

### ä¼ä¸šçº§æ ‡å‡†
- [ ] æ”¯æŒ 1000+ ç”¨æˆ·å¹¶å‘
- [ ] 99.9% å¯ç”¨æ€§è¦æ±‚
- [ ] å®Œæ•´çš„å®¡è®¡æ—¥å¿—
- [ ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²éªŒè¯

---

**Console æ¨¡å—å°†æˆä¸º LinchKit æ¡†æ¶çš„æ——èˆ°åº”ç”¨ï¼Œå±•ç¤ºä¼ä¸šçº§å…¨æ ˆå¼€å‘æ¡†æ¶çš„å®Œæ•´èƒ½åŠ›ã€‚**