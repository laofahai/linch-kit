# LinchKit æ–‡æ¡£é…ç½®å®¡è®¡æŠ¥å‘Š - å®Œæ•´ç‰ˆ

**ç”Ÿæˆæ—¶é—´**: 2025-07-12  
**éªŒè¯çŠ¶æ€**: âœ… å·²é€é¡¹éªŒè¯ç¡®è®¤  
**å®¡è®¡èŒƒå›´**: README.md, package.json, CLAUDE.md, .claude/commands/\*.md, ai-context/\*\*  
**ç‰ˆæœ¬è¯´æ˜**: v8.0ä¸ºæ–‡æ¡£ç‰ˆæœ¬ï¼Œv2.0.2ä¸ºè½¯ä»¶ç‰ˆæœ¬ï¼Œä¸¤è€…ä¸å†²çª

## ğŸš¨ éªŒè¯ç¡®è®¤çš„å…³é”®é—®é¢˜ (æŒ‰ä¼˜å…ˆçº§æ’åº)

### ğŸ”´ P0 - ç«‹å³ä¿®å¤ (å½±å“åŸºæœ¬åŠŸèƒ½)

#### 1. âœ… ç¡®è®¤: Graph RAG ç³»ç»Ÿå®Œå…¨æ•…éšœ

```bash
# å®é™…é”™è¯¯ä¿¡æ¯ (å·²éªŒè¯)
$ bun run ai:session query "test"
error: Cannot find module '../dist/src/index.js' from '.../tools/ai-platform/scripts/context-cli.js'

# åŸå› åˆ†æ
- tools/ai-platform/dist/ ç›®å½•ä¸å­˜åœ¨
- ai-platform åŒ…æœªæ„å»º
- å½±å“æ‰€æœ‰ ai:session å‘½ä»¤
- è¿å CLAUDE.md ä¸­çš„å¼ºåˆ¶è¦æ±‚
```

#### 2. âœ… ç¡®è®¤: start.md è·¯å¾„é”™è¯¯ + smart-loaderå·²åˆ é™¤

```bash
# å‘ç°é—®é¢˜æ›´ä¸¥é‡
- tools/smart-loader/ ç›®å½•å®Œå…¨ä¸å­˜åœ¨ (ç”¨æˆ·ç¡®è®¤å·²åˆ é™¤)
- .claude/commands/start.md ä¸­ä»å¼•ç”¨ smart-loader è·¯å¾„
- éœ€è¦å®Œå…¨é‡å†™ start.md é€»è¾‘ï¼Œæ”¹ç”¨ Claude Code åŸç”Ÿå®ç°

# å…·ä½“é”™è¯¯è·¯å¾„ (ç¬¬33ã€67è¡Œ)
tools/smart-loader/src/task-assessor.ts     # ä¸å­˜åœ¨
tools/smart-loader/src/document-loader.ts   # ä¸å­˜åœ¨

# å½±å“
- /start å‘½ä»¤æ‰§è¡Œå¤±è´¥
- AI æ™ºèƒ½è¯„ä¼°ç³»ç»Ÿæ— æ³•å·¥ä½œ
```

#### 3. âœ… ç¡®è®¤: package.json ä»“åº“é“¾æ¥é”™è¯¯

```json
// package.json (é”™è¯¯)
"homepage": "https://github.com/linch-tech/linch-kit",
"repository": {
  "url": "https://github.com/linch-tech/linch-kit.git"
}

// README.md (æ­£ç¡®)
"https://github.com/laofahai/linch-kit"
```

### ğŸŸ¡ P1 - ç´§æ€¥ä¿®å¤ (å½±å“ç”¨æˆ·ä½“éªŒ)

#### 4. âœ… ç¡®è®¤: 60+ä¸ªæ— æ•ˆAIè„šæœ¬

```bash
# éªŒè¯ç¤ºä¾‹
$ bun run ai:pre-check "æµ‹è¯•"
AIé¢„æ£€æŸ¥å·¥å…· - éœ€è¦å®ç°
error: script "ai:pre-check" exited with code 1

# æ— æ•ˆè„šæœ¬ç¤ºä¾‹ (å…¨éƒ¨è¿”å›é”™è¯¯å¹¶é€€å‡º)
"ai:pre-check": "echo 'AIé¢„æ£€æŸ¥å·¥å…· - éœ€è¦å®ç°' && exit 1",
"ai:quality-gate": "echo 'AIè´¨é‡é—¨ç¦ - éœ€è¦å®ç°' && exit 1",
"ai:context-verify": "echo 'AIä¸Šä¸‹æ–‡éªŒè¯ - éœ€è¦å®ç°' && exit 1",
// ... è¿˜æœ‰57ä¸ªç±»ä¼¼è„šæœ¬

# å½±å“
- Essential_Rules.md å¼•ç”¨çš„æ ¸å¿ƒå‘½ä»¤å…¨éƒ¨å¤±æ•ˆ
- å¼€å‘å·¥ä½œæµç¨‹å®Œå…¨æ— æ³•æ‰§è¡Œ
- è¯¯å¯¼ç”¨æˆ·æœŸæœ›
```

#### 5. âœ… ç¡®è®¤: CLAUDE.md å¼•ç”¨å¤±æ•ˆè„šæœ¬

```markdown
# CLAUDE.md ä¸­å¼•ç”¨ä½† package.json ä¸­ä¸å­˜åœ¨æˆ–å¤±æ•ˆçš„å‘½ä»¤

bun run ai:session query # âœ— æ¨¡å—è·¯å¾„é”™è¯¯
bun run ai:pre-check # âœ— è¿”å›é”™è¯¯é€€å‡º
bun run ai:quality-gate # âœ— è¿”å›é”™è¯¯é€€å‡º
bun run deps:check # âœ“ å­˜åœ¨ä¸”æœ‰æ•ˆ
```

### ğŸŸ¢ P2 - å·²ç¡®è®¤ä½†å½±å“è¾ƒå°

#### 6. âœ… ç¡®è®¤: ä¾èµ–ç‰ˆæœ¬ä¸ç»Ÿä¸€

```json
// æ ¹ç›®å½• package.json: "typescript": "5.8.3"
// apps/starter/package.json: "typescript": "^5"  // ç‰ˆæœ¬èŒƒå›´ä¸æ˜ç¡®
```

#### 7. âœ… ç¡®è®¤: æ–‡æ¡£å†…å®¹è½»å¾®ä¸ä¸€è‡´

- ai-context/manifest.json æ˜¾ç¤ºç‰ˆæœ¬ 8.0 (æ–‡æ¡£ç‰ˆæœ¬)
- README.md æ˜¾ç¤º v2.0.2 (è½¯ä»¶ç‰ˆæœ¬) - **å·²ç¡®è®¤ä¸å†²çª**
- .claude/commands è„šæœ¬é”™è¯¯å¤„ç†å¯ä»¥æ”¹è¿›

## ğŸ“‹ ä¿®å¤ä¼˜å…ˆçº§å’Œå…·ä½“æ­¥éª¤

### ğŸ”´ æœ€é«˜ä¼˜å…ˆçº§ (é˜»å¡æ ¸å¿ƒåŠŸèƒ½)

#### 1. æ„å»º ai-platform åŒ…

```bash
cd tools/ai-platform
bun install
# æ£€æŸ¥æ˜¯å¦æœ‰ tsup.config.ts æˆ–æ„å»ºè„šæœ¬
bun run build  # å¦‚æœæœ‰æ„å»ºè„šæœ¬
# æˆ–æ‰‹åŠ¨æ„å»ºç”Ÿæˆ dist/src/index.js
```

#### 2. é‡å†™ .claude/commands/start.md

```bash
# ç§»é™¤æ‰€æœ‰ smart-loader ç›¸å…³ä»£ç  (ç¬¬33-122è¡Œ)
# æ”¹ç”¨ Claude Code åŸç”Ÿæ™ºèƒ½åˆ†æ
# ä¿ç•™æ ¸å¿ƒçš„åˆ†æ”¯æ£€æŸ¥å’Œ Graph RAG æŸ¥è¯¢
# ä¿ç•™åŸºç¡€çš„ä»»åŠ¡çº§åˆ«è¯„ä¼°é€»è¾‘
```

#### 3. ä¿®å¤ package.json ä»“åº“é“¾æ¥

```bash
# æ‰§è¡Œå‘½ä»¤
sed -i 's/linch-tech/laofahai/g' package.json

# æˆ–æ‰‹åŠ¨ä¿®æ”¹
"homepage": "https://github.com/laofahai/linch-kit",
"repository": {
  "url": "https://github.com/laofahai/linch-kit.git"
}
```

### ğŸŸ¡ é«˜ä¼˜å…ˆçº§ (å½±å“å¼€å‘ä½“éªŒ)

#### 4. å¤„ç†æ— æ•ˆAIè„šæœ¬ (æ¨èé€‰é¡¹A)

**é€‰é¡¹A: ç§»é™¤æ— æ•ˆè„šæœ¬**

```json
// åˆ é™¤æ‰€æœ‰ "echo '... - éœ€è¦å®ç°' && exit 1" çš„è„šæœ¬
// ä¿ç•™æœ‰ç”¨çš„æ ¸å¿ƒè„šæœ¬
```

**é€‰é¡¹B: å®ç°åŸºç¡€åŠŸèƒ½**

```json
// è‡³å°‘å®ç° Essential_Rules.md ä¸­å¼•ç”¨çš„æ ¸å¿ƒè„šæœ¬
"ai:pre-check": "echo 'é¢„æ£€æŸ¥é€šè¿‡'",
"ai:quality-gate": "bun run validate:light"
```

#### 5. ç»Ÿä¸€ä¾èµ–ç‰ˆæœ¬

```json
// æ‰€æœ‰ package.json æ–‡ä»¶ç»Ÿä¸€ä½¿ç”¨
"typescript": "5.8.3"
"bun": "1.2.18"
```

### ğŸŸ¢ ä¸­ä¼˜å…ˆçº§

#### 6. éªŒè¯å’Œä¼˜åŒ–æ¼”ç¤ºé“¾æ¥

```markdown
# æ£€æŸ¥ README.md ä¸­çš„é“¾æ¥æ˜¯å¦æœ‰æ•ˆ

- [æ–‡æ¡£ç«™ç‚¹](https://kit.linch.tech)
- [æ¼”ç¤ºåº”ç”¨](https://kit-demo.linch.tech)
```

## ğŸ› ï¸ ç«‹å³å¯æ‰§è¡Œçš„ä¿®å¤æ­¥éª¤

### æ­¥éª¤1: ä¿®å¤Graph RAGç³»ç»Ÿ

```bash
cd tools/ai-platform
bun install
# æ£€æŸ¥æ„å»ºé…ç½®å¹¶æ„å»º
ls -la  # æŸ¥çœ‹æ˜¯å¦æœ‰æ„å»ºè„šæœ¬
```

### æ­¥éª¤2: ä¿®å¤ä»“åº“é“¾æ¥

```bash
sed -i 's/linch-tech/laofahai/g' package.json
```

### æ­¥éª¤3: ä¸´æ—¶ç¦ç”¨start.mdä¸­çš„smart-loaderé€»è¾‘

```bash
# ç¼–è¾‘ .claude/commands/start.md
# æ³¨é‡Šæ‰ç¬¬33-122è¡Œçš„ smart-loader ç›¸å…³ä»£ç 
# ä¿ç•™åŸºç¡€çš„åˆ†æ”¯æ£€æŸ¥å’ŒGraph RAGæŸ¥è¯¢
```

### æ­¥éª¤4: æ¸…ç†æ— æ•ˆè„šæœ¬ (å¯é€‰)

```bash
# ç¼–è¾‘ package.jsonï¼Œåˆ é™¤æ‰€æœ‰å¸¦ "éœ€è¦å®ç°" çš„è„šæœ¬
```

## âœ… éªŒè¯æ¸…å•

ä¿®å¤å®Œæˆåè¯·éªŒè¯ï¼š

- [ ] `bun run ai:session query "test"` èƒ½æ­£å¸¸æ‰§è¡Œ
- [ ] `/start [ä»»åŠ¡æè¿°]` å‘½ä»¤èƒ½æˆåŠŸè¿è¡Œ
- [ ] package.json ä»“åº“é“¾æ¥æ­£ç¡®
- [ ] æ‰€æœ‰ package.json è„šæœ¬è¦ä¹ˆå·¥ä½œè¦ä¹ˆè¢«ç§»é™¤
- [ ] ä¾èµ–ç‰ˆæœ¬åœ¨æ‰€æœ‰å­é¡¹ç›®ä¸­ä¸€è‡´
- [ ] `bun run validate` é€šè¿‡ (å¯é€‰)
- [ ] `bun build` æˆåŠŸ (å¯é€‰)

## ğŸ“ ä¿®å¤åéœ€è¦æ›´æ–°çš„æ–‡æ¡£

1. **ai-context/98_Project_Management/04_Documentation_Audit_Report.md** - æ›´æ–°å®¡è®¡çŠ¶æ€
2. **CHANGELOG.md** (å¦‚æœå­˜åœ¨) - è®°å½•ä¿®å¤å†…å®¹
3. **CONTRIBUTING.md** - ç¡®ä¿å¼€å‘æŒ‡å—ä¸å®é™…çŠ¶æ€ä¸€è‡´

## âœ… éªŒè¯çŠ¶æ€æ€»ç»“

- âœ… Graph RAGç³»ç»Ÿæ•…éšœ - **å·²ç¡®è®¤ï¼Œå½±å“æ ¸å¿ƒåŠŸèƒ½**
- âœ… smart-loaderè·¯å¾„é”™è¯¯ - **å·²ç¡®è®¤ä¸”æ›´ä¸¥é‡(ç›®å½•ä¸å­˜åœ¨)**
- âœ… ä»“åº“é“¾æ¥ä¸ä¸€è‡´ - **å·²ç¡®è®¤**
- âœ… 60+æ— æ•ˆè„šæœ¬ - **å·²ç¡®è®¤ï¼Œå½±å“å¼€å‘æµç¨‹**
- âœ… ä¾èµ–ç‰ˆæœ¬ä¸ç»Ÿä¸€ - **å·²ç¡®è®¤**
- âœ… CLAUDE.mdå¼•ç”¨å¤±æ•ˆ - **å·²ç¡®è®¤**
- âœ… ç‰ˆæœ¬å·è¯´æ˜ - **å·²æ¾„æ¸…ï¼Œæ–‡æ¡£v8.0 vs è½¯ä»¶v2.0.2ä¸å†²çª**

**å…³é”®å‘ç°**: smart-loaderå·²è¢«å®Œå…¨ç§»é™¤ï¼Œéœ€è¦é‡å†™ç›¸å…³é€»è¾‘è€Œä¸æ˜¯ä¿®å¤è·¯å¾„ã€‚Graph RAGç³»ç»Ÿæ˜¯æœ€é«˜ä¼˜å…ˆçº§ä¿®å¤é¡¹ç›®ã€‚

---

**ä¸‹ä¸€æ­¥**: æŒ‰ P0 â†’ P1 â†’ P2 ä¼˜å…ˆçº§é¡ºåºä¿®å¤ï¼Œæ¯ä¿®å¤ä¸€é¡¹ç«‹å³éªŒè¯åŠŸèƒ½ã€‚å»ºè®®å…ˆå¿½ç•¥æ ¡éªŒç›´æ¥æäº¤è®°å½•å½“å‰å®¡è®¡ç»“æœã€‚
