{
  "sessionId": "workflow-1752985845418",
  "taskDescription": "重构整个微服务架构并升级数据库",
  "currentState": "PENDING_APPROVAL",
  "metadata": {
    "startTime": "2025-07-20T04:30:45.419Z",
    "lastUpdated": "2025-07-20T04:31:06.877Z",
    "automationLevel": "semi_auto"
  },
  "stateHistory": [
    {
      "state": "INITIALIZED",
      "timestamp": "2025-07-20T04:30:45.419Z",
      "action": "START_ANALYSIS",
      "by": "system"
    },
    {
      "state": "ANALYZING",
      "timestamp": "2025-07-20T04:30:45.420Z",
      "action": "START_ANALYSIS",
      "by": "system"
    },
    {
      "state": "PENDING_APPROVAL",
      "timestamp": "2025-07-20T04:31:06.877Z",
      "action": "COMPLETE_ANALYSIS",
      "by": "system"
    }
  ],
  "analysis": {
    "approach": "create_new",
    "confidence": 0.7,
    "estimatedHours": 2500,
    "complexity": 5,
    "risks": [
      "数据丢失或损坏",
      "系统长时间停机",
      "新旧服务兼容性问题",
      "迁移后性能下降",
      "回滚困难",
      "引入新的安全漏洞"
    ],
    "dependencies": [
      "所有现有微服务",
      "当前及新版本数据库",
      "CI/CD管道",
      "监控和日志系统",
      "测试环境和框架",
      "基础设施（服务器、网络）",
      "第三方集成"
    ]
  },
  "approvalRequest": {
    "requestedAt": "2025-07-20T04:31:06.877Z",
    "requestedBy": "ai-workflow-system",
    "reason": "任务复杂度较高，需要人工审批",
    "urgency": "high",
    "autoApproveAfter": "2025-07-20T06:31:06.877Z"
  }
}